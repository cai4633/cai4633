---
title: var 、 let 和 const
date: 2020-12-16 10:10:14
categories: ES6
tags: ["let", "const"]
---

## var 和 let 的区别

1. **作用域不同**。let 有块级作用域。var 只有全局作用域和函数作用域。（例如：for 代码块）js 的作用域只是定义了**变量的可访问性**，但是变量的具体值决定于**代码（函数）执行时机。**
2. **变量提升和暂时性死区**。 var 存在变量提升。let 不存在变量提升但是有暂时性死区。
3. **重复声明**。let 不允许在相同作用域内，重复声明同一个变量。var 可以。
4. **全局对象属性**。 var 声明的变量是全局变量的属性，let 声明的变量却不是。

## 块级作用域

ES5 中只存在全局作用域和函数作用域，而 ES6 中添加了块级作用域。块级作用域几个易错点：

- 块级作用域必须要有**大括号**。

```
// 第一种写法，报错
if (true) let x = 1;

// 第二种写法，不报错
if (true) {
  let x = 1;
}
```

- 由于不同浏览器环境对于**函数声明在块级作用域中的行为**差别较大，所以块级作用域中的函数声明最好用**函数表达式来代替**。

## const

**const** 声明一个**只读**的常量。声明变量时，就必须立即**初始化**。

const 和 let 很多特性类似，包括块级作用域、无变量提升、有暂时性死区、不能重复声明和不绑定全局对象属性。

const 实际上保证的，并不是变量的值不得改动，而是变量指向的那个内存地址所保存的数据不得改动。如果真的想将对象冻结，应该使用**Object.freeze**方法。
